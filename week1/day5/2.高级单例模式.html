<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
</html>
<script>
    /*
    * 高级单例模式
    * 通过执行一个自执行函数，最后返回一个对象
    *
    * 高级单例模式执行的时候，会生成一个私有的作用域，保护里面的变量不受外界的干扰，最后return了一个对象，我们把想要的属性放到这个对象当中
    *
    * 这种模式的好处：创建了私有的作用域，我们可以放入任何对象和方法，只要是我们想要的，我们都可以暴露给返回的对象中
    * 高级单例模式中，如果我们想要相互调用方法，通过this关键字来实现
    *
    * 在高级单例模式中，向实现链式写法的方式，最关键的词是return this
    *
    * */

    var animal1 = (function () {
        var value = 'cat';
        function todoList(){
            console.log(this);
            alert('MIAO'+this.value)
            return this
        }
        function name(){
            alert('我叫小苗')
            return this
        }
        function job(){
            alert('逗你玩')
            return this
        }
        function zero(key){
            return key<10?'0'+key:key
        }

        // 08：09：00 new Date
        return {
            value,
            todoList:todoList,
            name,
            job,// 在es6中如果属性名和属性值相同的话，只写一个
            // init:function () {
            //     todoList();
            //     name()
            //     job()
            //     zero()
            // }
        }
    })()
    // animal1.init()
    // animal1.todoList()
    // animal1.name()
    // animal1.job()
    animal1.todoList().job().name()



    var animal2 = (function () {
        var name = 'xiaohei';
        function todoList(){
            console.log('heihei')
        }
        return {

        }
    })()
</script>